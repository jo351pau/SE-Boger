name: Scala CI
on:
 push:
   branches: [ master, develop]
 pull_request:
   branches: [ master ]
jobs:
 build:
   runs-on: ubuntu-latest
   env:
    CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
    COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
   steps:
   - uses: actions/checkout@v3
   - name: Set up JDK 11
     uses: actions/setup-java@v3
     with:
       java-version: '11'
       distribution: 'adopt'
       cache: 'sbt'
   - name: run tests
     run: sbt test
   - name: Coveralls
     run: sbt clean coverage test coverageReport
   - name: Upload Coveralls
     run: sbt coverageReport coveralls     
